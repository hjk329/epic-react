# useRef 왜 필요할까?
리액트는 **선언적 UI 라이브러리**이다. 따라서, DOM 을 직접적으로 조작하는 것을 허용하지 않는다.  
개발자는 리액트에서 코드를 작성할때 DOM을 어떻게 조작할지 신경쓰지 않아도 된다.  
그저 무엇을 그릴지 결정할 뿐, DOM을 `어떻게` 조작해서 UI 를 그려낼지 신경쓰지 않아도 된다.  

하지만, 가끔 **DOM 노드에 직접 접근**해야 할 때가 있다.  
DOM 노드의 크기나 위치 정보의 측정, 포커스 관리 등이 필요할때 DOM 노드에 직접 지시해야 할 일이 생긴다.  
이 때 useRef 훅은 필요한 DOM 노드에 대한 참조(레퍼런스)를 제공한다.  
useRef는 React 요소에 ref 속성으로 전달되며, React가 해당 요소를 DOM에 마운트할 때 참조 객체의 current 프로퍼티에 해당 DOM 노드를 할당한다.  
또한, useRef는 값이 변경되어도 컴포넌트가 리렌더링되지 않는 참조 공간을 제공한다.  

# useRef는 mutable 하다

> "Mutable"이라는 용어는 프로그래밍에서 객체나 데이터가 변경 가능하다는 것을 의미한다. 

useRef를 사용하면 반환되는 객체는 .current 프로퍼티를 가진다.  
이 프로퍼티는 변경할 수 있으며 (refObject.current = newValue), 이러한 변경은 React의 렌더링 사이클에 영향을 주지 않는다.  
즉, .current 프로퍼티를 변경해도 컴포넌트가 리렌더링되지 않는다.  

useRef로 생성된 객체 자체는 컴포넌트의 전체 생명주기 동안 동일하게 유지된다.  
이 말은, 컴포넌트가 리렌더링 되더라도 useRef로부터 반환된 객체는 새로 생성되지 않고 처음 생성된 그대로 유지된다는 것을 의미한다. 이러한 특성 때문에 useRef는 값을 "기억"하는 데 유용하다.  
React 는 useRef 값의 변경을 감지하지 않기 때문에 useRef 값이 변경되더라도 리렌더링하지 않는다.  

## useState vs useRef

### 📍 결정 요인

- 상태 변경이 UI에 영향을 미치는지 여부
- 컴포넌트의 리렌더링을 피하고 싶은지 여부
- 참조하는 값이 DOM 요소인지 아니면 일반적인 JavaScript 값인지

1. useState: 사용자가 입력한 텍스트를 관리하거나, 체크박스의 체크 상태를 관리하는 등 UI의 변화를 반영해야 할 때 사용한다. 
- 컴포넌트의 상태를 관리하기 위해 사용한다.
- 상태가 변경되면 컴포넌트가 리렌더링된다.
- 주로 사용자 인터페이스(UI)에 영향을 미치는 데이터를 관리할 때 사용한다.
- 예를 들어, 사용자의 입력, 선택된 항목, 화면에 표시되는 데이터 등 UI와 직접적으로 연관된 상태를 관리할 때 적합하다.

2. useRef: 입력 필드에 자동으로 포커스를 맞추거나, 렌더링 사이에 특정 값이 유지되어야 하지만 UI를 업데이트할 필요는 없을 때 사용한다.
- 변경 가능한 값을 참조할때 사용한다.
- useRef로 참조된 값이 변경되어도 컴포넌트가 리렌더링되지 않는다.
- DOM 요소에 직접 접근하거나, 렌더링 사이클 동안 유지되어야 하는 값을 저장하는 데 주로 사용된다.
